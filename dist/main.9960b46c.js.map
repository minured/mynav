{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","siteStr","localStorage","getItem","siteObj","JSON","parse","hashMap","logo","logType","url","logoType","console","log","inputFocus","simplifyUrl","simple_url","replace","length","saveHash","stringify","setItem","render","find","remove","forEach","site","index","simpleUrl","$li","toUpperCase","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","onbeforeunload","document","key","toLocaleLowerCase","focus","blur"],"mappings":"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","file":"main.9960b46c.js","sourceRoot":"..\\src","sourcesContent":["let $siteList = $(\".siteList\")\r\nlet $lastLi = $(\".lastLi\")\r\nlet siteStr = localStorage.getItem(\"site\")\r\nlet siteObj = JSON.parse(siteStr)\r\n//要多学习||后面是保底值\r\nlet hashMap = siteObj || [\r\n    {logo: 'A', logType: 'text', url: 'https://www.acfun.cn'},\r\n    {logo: 'B', logoType: 'image', url: 'https://www.bilibili.com'}\r\n]\r\nconsole.log(hashMap)\r\n// 有了哈希表之后 ,就没有必要直接把内容写在html上, 可以用哈希表生成html\r\n\r\nlet inputFocus = false\r\n\r\nlet simplifyUrl = (url) => {\r\n    let simple_url = url.replace(\"https://\", \"\")\r\n        .replace(\"http://\")\r\n        .replace(\"www.\", \"\")\r\n        .replace(/\\/.+/, \"/...\")\r\n    if (simple_url[simple_url.length - 1] === \"/\") {\r\n        simple_url = simple_url.replace(\"/\", \"\")\r\n    }\r\n    return simple_url\r\n}\r\nlet saveHash = (hashMap) => {\r\n    let siteStr = JSON.stringify(hashMap)\r\n    localStorage.setItem(\"site\", siteStr)\r\n    console.log(\"hashMap已保存到localStorage\")\r\n}\r\n\r\nlet render = () => {\r\n    $siteList.find(\"li:not(.lastLi)\").remove()\r\n    hashMap.forEach((site, index) => {\r\n        // console.log(index)\r\n        let simpleUrl = simplifyUrl(site.url)\r\n        let $li = $(`<li>\r\n            <div class=\"site\">\r\n                <div class=\"logo\">${simpleUrl[0].toUpperCase()}</div>\r\n                <div class=\"link\">${simpleUrl}</div>\r\n                <div class=\"delete\">\r\n                    <svg class=\"icon\">\r\n                        <use xlink:href=\"#icon-deleteX\"></use>\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n        </li>`).insertBefore($lastLi)\r\n        $li.on(\"click\", () => {\r\n            window.open(site.url, \"_self\")\r\n        })\r\n        $li.on(\"click\", \".delete\", (e) => {\r\n            //阻止冒泡\r\n            e.stopPropagation()\r\n            //删除\r\n            hashMap.splice(index, 1)\r\n            render()\r\n            saveHash()\r\n        })\r\n    })\r\n}\r\n\r\nrender()\r\n\r\n\r\n\r\n$(\".addButton\")\r\n    .on(\"click\", () => {\r\n        let url = window.prompt(\"输入你要添加的网址:\")\r\n        if (url.indexOf(\"http\") !== 0) {\r\n            url = \"https://\" + url\r\n        }\r\n        hashMap.push({\r\n            'logo': simplifyUrl(url)[0],\r\n            'logoType': 'text',\r\n            'url': url\r\n        })\r\n        // console.log(hashMap)  \r\n        render()\r\n\r\n        //每次添加url，哈希表保存到localStorage\r\n        saveHash(hashMap)\r\n    })\r\n\r\n\r\n//用户关闭页面之前保存localStorage    \r\n window.onbeforeunload = () => {\r\n    saveHash(hashMap)\r\n}   \r\n\r\n\r\n//监听用户的键盘事件\r\n$(document).on(\"keypress\", (e) => {\r\n    //e.key就是按下的按键 小写a b c ...\r\n    //当变量名与对象的属性名相同的时候，let key = e.key可以简写如下，\r\n    if (inputFocus === false) {\r\n        console.log(\"input为false\")\r\n        let {key} = e\r\n        console.log(key)\r\n        hashMap.forEach(site => {\r\n            if(site.logo.toLocaleLowerCase() === key) {\r\n                window.open(site.url, \"_self\")\r\n            }\r\n        })\r\n    }\r\n})\r\n\r\n\r\n\r\n//判断input获取焦点\r\n$(\"input[name=wd]\").focus(() => {\r\n    console.log(\"获取焦点\")\r\n    inputFocus = true\r\n}).blur(() => {\r\n    console.log(\"失去焦点\")\r\n    inputFocus = false\r\n})\r\n"]}